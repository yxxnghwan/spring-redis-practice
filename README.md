# 레디스에 리프레시 토큰 저장하는 예제 짜보기

## 후기
일단 레디스를 메인 저장소로 쓰는 건 문제가 있어보인다.
리프레시 토큰이 아무리 기간제 데이터라지만, 기간이 짧지 않기 떄문에 분명 oom이 발생하는 순간이 올 것 같음.
리프레시 토큰의 메인 저장소로 레디스를 쓰는 건 미친 짓이라고 생각한다.

유효 기간이 매우 짧은 데이터라면 레디스를 메인 저장소로 써도 충분하다고 생각됨.

그 외엔 캐시의 용도로 쓰는 게 적절해보인다.

캐시의 용도로 쓰려면 어떤 데이터를 어떤 방식으로 캐시할거고, 정합성을 어떻게 유지할건지 적절한 전략을 잘 짜야할 듯.

서비스의 트래픽이 늘면서 DB의 부하가 늘고 그러다보니 레디스 도입을 고민하게 될 텐데,
대규모 트래픽이라는 가정 하에 무조건 대용량 데이터일거고 그러니까 메모리 꽉 차서 뻗지 않게 데이터의 TTL을 잘 정해야할듯.
리프레시 토큰의 메인 저장소로 픽한다면 TTL이 리프레시 토큰의 유효기간일텐데... 그건 좀..ㅎ

결론, 리프레시 토큰의 저장소로 레디스가 어떨까 해서 시작한 공부지만...
그건 미친짓이었다.
하지만 레디스를 어떻게 활용하지..? 하는 고민을 한 2일 내내 했기 때문에 꽤 의미 있었다고 생각함.
